# 服装材质

## 材质分类

- 基础服装材质：基础材质，半透材质，遮罩材质


- 特殊服装材质：绒毛材质，丝袜材质，


## 基础服装材质：

- 基础服装材质又根据支持不同半透效果，分为三类，三种材质仅对透明度效果表现不同，其余参数完全一致。
  - 基础材质（Base Material）：不支持投透贴效果
  - 遮罩材质（Maks Material）：只支持黑白颜色的透贴效果（灰色过度Alpha会被截断），在游戏中不会有勾边效果。
  - 半透明材质（Translucent Material）：支持灰色渐变透贴效果，在游戏中不会有勾边效果。
- 对应效果如下图

![img](https://arkimg.ark.online/1739959291201-19.jpeg)

### 贴图

三种基础服装材质都属于PBR材质，需要基于 PBR 流程制作贴图。

为照顾游戏内性能，需要把常规的PBR贴图按照不同通道储存，规则如下

Color Map：

- 贴图RGB通道绘制颜色信息
- A通道绘制透明度，黑色透明，白色不透明。（需要搭配遮罩材质或半透材质使用）

Normal Map：DirectX法线贴图

- RGB通道绘制法线信息

MRAE Map：

- R=Metallic（金属度）
- G=Roughness（粗糙度）
- B=Ambient Occlusion（环境光遮蔽）
- A=Emissive（自发光遮罩）

对应关系与效果参考如下：

|                       Color Map                       |                          RGB                          |                           A                           |                                                       |                                                              |
| :---------------------------------------------------: | :---------------------------------------------------: | :---------------------------------------------------: | :---------------------------------------------------: | :----------------------------------------------------------: |
|                                                       | ![img](https://arkimg.ark.online/1739959291197-1.png) | ![img](https://arkimg.ark.online/1739959291197-2.png) |                                                       |                                                              |
|                      Normal Map                       |                          RGB                          |                                                       |                                                       |                                                              |
|                                                       | ![img](https://arkimg.ark.online/1739959291197-3.png) |                                                       |                                                       |                                                              |
|                       MRAE Map                        |                           R                           |                           G                           |                           B                           |                              A                               |
| ![img](https://arkimg.ark.online/1739959291197-4.png) | ![img](https://arkimg.ark.online/1739959291197-5.png) | ![img](https://arkimg.ark.online/1739959291197-6.png) | ![img](https://arkimg.ark.online/1739959291197-7.png) | ![img](https://arkimg.ark.online/1739959291197-8-1740032767132-1.png) |

<video controls src="https://arkimg.ark.online/%E6%9C%8D%E8%A3%85%E6%9D%90%E8%B4%A8.mp4" />

### 材质参数

- 除基础贴图外，材质还提供效果参数调整功能
- 材质**默认参数可满足大部分模型使用**，一般情况仅需制作贴图即可，**无需过多参数调整**。

![img](https://arkimg.ark.online/1739959291198-9.png)

- 漫反射颜色：
  - 漫反射颜色：可以整体调整色彩倾向
- 边缘光：
  - 强度：调整边缘光的强弱。值越大，亮度越强
  - 宽度：调整边缘光宽度。值越大，边缘光越宽
  - 软硬：调整边缘光边缘软硬，值越小，边缘光过渡越硬，注意：值为0的时候表现会异常
  - 衰减强度：调整边缘光衰减范围，值越大，衰减越强
- 自发光：
  - 自发光强度：调整自发光强度，值越大越强。自发光颜色来自于贴图本身的颜色。自发光区域来自于贴图MRAE，A通道
- 法线：
  - 法线强度：整体调整法线强度，1为完全贴图法线强度，0为无法线强度
- 物理属性：
  - 金属度：调整金属度，基于贴图中R通道绘制金属度，1为完全贴图效果，0为无金属度效果
  - 粗糙度：调整粗糙度，基于贴图中G通道绘制粗糙度，1为完全贴图效果，0为无粗糙度效果
  - 高光强度：调整高光强度，值越小高光效果越弱
  - AO强度：调整AO强度，基于贴图中B通道绘制粗糙度，1为完全贴图效果，0为无AO效果
- 卡通渲染：
  - 卡通渲染阴影：控制阴影硬度，1为卡通阴影，无阴影过渡效果。0为真实阴影，带阴影过渡

### 材质参数效果

<video controls src="https://arkimg.ark.online/%E6%9C%8D%E8%A3%85%E6%9D%90%E8%B4%A8%E5%8F%82%E6%95%B0.mp4" />

## 特殊服装材质：

### 绒毛材质

- 模拟绒毛效果。
- 使用绒毛材质的商品支持换色功能

#### 贴图：

通过Color Map的A通道的灰度控制绒毛长度。

- Color Map：
  - 贴图RGB通道绘制颜色信息
  - A通道绘制绒毛长度，白色长度最长，黑色长度最短
- 对应关系与效果参考如下：

| Color Map |                             RGB                              |                              A                               |
| :-------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|           | <img src="https://arkimg.ark.online/1739959291198-10.png" alt="img" style="zoom:50%;" /> | <img src="https://arkimg.ark.online/1739959291198-11.png" alt="img" style="zoom:50%;" /> |

<video controls src="https://arkimg.ark.online/%E7%BB%92%E6%AF%9B%E6%95%88%E6%9E%9C.mp4" />

#### 材质参数

- 除基础贴图外，材质还提供效果参数调整功能
- 材质**默认参数可满足大部分模型使用**，一般情况仅需制作贴图即可，**无需过多参数调整**。

![img](https://arkimg.ark.online/1739959291198-12.png)

- 基础属性：
  - 漫反射颜色：可以整体调整色彩倾向
  - 绒毛密度：调整绒毛整体密度，值越大绒毛越密
  - 绒毛边缘羽化：调整绒毛的软硬程度，值越大，边缘越软
  - 绒毛长度：调整绒毛整体长度，值越大，绒毛越长
  - 绒毛厚度：调整绒毛整体厚度，值越小，绒毛越厚
  - 绒毛方向：调整绒毛整体朝向，正值受重力，负值反重力
- 物理属性：
  - 高光强度：调整高光强度，值越大高光效果越强
  - 高光宽度：调整高光宽度，值越大高光区域越宽
  - 整体AO强度：调整AO强度，值越大AO效果越强
  - 细节AO强度：调整AO强度，值越大AO效果越强

### 材质参数效果

<video controls src="https://arkimg.ark.online/%E7%89%B9%E6%AE%8A%E6%9C%8D%E8%A3%85%E6%9D%90%E8%B4%A8.mp4" />

### 丝袜材质

- 专门提供给丝袜类使用的材质。包括不限于各种袜子，贴身类衣服，全身连体黑丝等服装
- 丝袜模型的UV需要与裸模皮肤的UV保持一致。结合透明度贴图，可以实现袜子内层透出皮肤效果。

![img](https://arkimg.ark.online/1739959291198-13.png)

- 非贴身类衣服，无需透肉感时，请使用常规服装材质。例如，丝质飘带等
- 使用丝袜材质的商品支持换色功能

#### 贴图：

通过Color Map的A通道的灰度控丝袜的透明程度。

- Color Map：
  - 贴图RGB通道绘制颜色信息
  - A通道绘丝袜透明度，黑色完全透明显示皮肤颜色，白色完全不透明。
- 对应关系与效果参考如下：

|   Color Map 1   |                             RGB                              |                              A                               |
| :-------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|                 | <img src="https://arkimg.ark.online/1739959291198-14.png" alt="img" style="zoom:50%;" /> | <img src="https://arkimg.ark.online/1739959291198-15.png" alt="img" style="zoom:50%;" /> |
| **Color Map 2** |                           **RGB**                            |                            **A**                             |
|                 | <img src="https://arkimg.ark.online/1739959291198-16.png" alt="img" style="zoom:50%;" /> | <img src="https://arkimg.ark.online/1739959291198-17.png" alt="img" style="zoom:50%;" /> |

- 透明度对袜子的效果影响对比：视频中左边模型使用Color Map1,右边模型使用Color Map2

<video controls src="https://arkimg.ark.online/%E8%A2%9C%E5%AD%90%E9%80%8F%E6%98%8E%E5%BA%A6%E5%AF%B9%E6%AF%94.mp4" />

#### 材质参数

- 除基础贴图外，材质还提供效果参数调整功能
- 材质**默认参数可满足大部分模型使用**，一般情况仅需制作贴图即可，**无需过多参数调整**。

![img](https://arkimg.ark.online/1739959291199-18.png)

- 基础属性：
  - 漫反射颜色：可以整体调整色彩倾向
  - 透明度： 调整透明度曲率变化。值越大，越不透明，值越小，越透明
- 物理属性：
  - 高光强度：调整高光强度，值越大高光效果越强
  - 高光宽度：调整高光宽度，值越大高光区域越宽
- 边缘光：
  - 强度：调整边缘光的强弱。值越大，亮度越强
  - 宽度：调整边缘光宽度。值越大，边缘光越宽
  - 软硬：调整边缘光边缘软硬，值越小，边缘光过渡越硬，注意：值为0的时候表现会异常
  - 衰减强度：调整边缘光衰减范围，值越大，衰减越强

### 材质参数效果

<video controls src="https://arkimg.ark.online/%E4%B8%9D%E8%A2%9C%E6%9D%90%E8%B4%A8%E5%8F%82%E6%95%B0.mp4" />